- type: entity
  parent: [ BaseItem, BaseGunWieldable ]
  id: FlameGunBase
  name: flame gun
  description: default flame gun
  abstract: true
  components:
  - type: GunRequiresWield
  - type: Sprite
    sprite: _Metro14/Objects/Weapons/FlameGun/big.rsi
    layers:
      - state: base
        map: [ "enum.FlameThrower.Base" ]
      - state: mag-0
        map: ["enum.GunVisualLayers.Mag"]
  - type: Clothing
    sprite: _Metro14/Objects/Weapons/FlameGun/big_clothing.rsi
    quickEquip: false
    slots:
    - Back
    - suitStorage
  - type: Item
    size: Large
  - type: ItemSlots
    slots:
      gun_magazine: # Ага - ага. Стреляем из балона!
        name: flame-fuel-tank
        startingItem: FlameFuelTankDefault
        insertSound:
          path: /Audio/_Metro14/Weapons/Guns/ballonin.ogg
          params:
            volume: -1
        ejectSound:
          path: /Audio/_Metro14/Weapons/Guns/ballonout.ogg
          params:
            volume: -1
        priority: 1
        whitelist:
          tags:
            - FlameTank
        whitelistFailPopup: flame-fuel-tank-whitelist-fail
  - type: ContainerContainer
    containers:
      gun_magazine: !type:ContainerSlot
  - type: SolutionAmmoProvider
    shootableReagentsId:
      - WeldingFuel
    solutionId: tank
    containerId: gun_magazine
    fireCost: 1 # Сколько жидкости мы будем тратить?
    proto: FlameAmmo # Летающее пламя
  - type: MagazineVisuals
    magState: mag
    steps: 1
    zeroVisible: true
  - type: Appearance
  - type: FlameThrower

- type: entity
  id: FlameGun
  name: flame gun
  description: death 
  parent: FlameGunBase
  components:
  - type: Gun
    cameraRecoilScalar: 0
    shotsPerBurst: 10
    burstFireRate: 10
    burstCooldown: 2
    selectedMode: Burst
    availableModes:
    - Burst, FullAuto
    soundEmpty:
      path: /Audio/_Metro14/Weapons/Guns/no-fire-shoot.ogg
    soundGunshot:
      path: /Audio/_Metro14/Weapons/Guns/fireignite.ogg
      params:
        variation: 0.2

- type: Tag
  id: FlameTank